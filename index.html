<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kiboga Hill Farm Uganda</title>
  <meta name="description" content="Kiboga Hill Farm Uganda – Goats, cattle, bananas & coffee, with climate-smart advisory." />

  <style>
    :root{ --ink:#1f2937; --muted:#556070; --brand:#10b981; --amber:#f59e0b; --orange:#fb923c; --card:#ffffff; --shadow:0 10px 25px rgba(0,0,0,.08); --r:18px }
    *{box-sizing:border-box}
    body{margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji"}
    .container{max-width:1140px;margin:auto;padding:0 16px}
    header.khf-header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.75);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid #eee}
    .row{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:18px;text-decoration:none;color:var(--ink)}
    .logo{width:38px;height:38px;border-radius:14px;display:grid;place-items:center;background:linear-gradient(135deg,#84cc16,#10b981);color:#fff;box-shadow:var(--shadow);font-weight:900}
    nav.khf-nav a{margin:0 10px;text-decoration:none;color:var(--ink);font-weight:700}
    nav.khf-nav a:hover{color:var(--brand)}
    .btn{display:inline-flex;align-items:center;gap:8px;border:0;padding:10px 16px;border-radius:16px;background:var(--brand);color:#fff;cursor:pointer;box-shadow:var(--shadow);text-decoration:none;font-weight:800}
    .btn.out{background:#fff;color:var(--ink);border:2px solid #e9ecef}
    section{padding:56px 0}
    h1,h2,h3{color:#2f7d32;margin:0 0 8px}
    .muted{color:var(--muted)}
    .grid{display:grid;gap:16px}
    .cards{grid-template-columns:repeat(1,minmax(0,1fr))}
    .card{background:var(--card);border-radius:var(--r);box-shadow:var(--shadow);padding:18px}

    /* -------- Hero -------- */
    .hero{
      display:flex;align-items:center;justify-content:space-between;gap:48px;flex-wrap:wrap;
      min-height:90vh;padding:80px 5%;background:linear-gradient(to bottom,#fff8ef,#f6f8e7);overflow:hidden;
    }
    .hero-text{ flex:1 1 460px; max-width:560px; }
    .hero-text h1{ font-size:2.8rem; line-height:1.2; color:var(--ink); font-weight:700; }
    .hero-text h1 span{ color:var(--brand); }
    .hero-text p{ font-size:1.05rem; color:var(--muted); margin-top:16px; line-height:1.6; }
    .hero-buttons{ display:flex; flex-wrap:wrap; gap:12px; margin-top:24px; }
    .hero-buttons .btn{ padding:12px 22px; border-radius:var(--r); font-weight:600; }

    /* Right column: poster + ticker */
    .hero-image{
      flex:1 1 520px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
      position:relative;
    }
    .hero-frame{
      width:clamp(360px,46vw,640px); max-width:100%; aspect-ratio:1/1; padding:0; background:#fff;
      border-radius:18px; box-shadow:var(--shadow); overflow:hidden; animation:floaty 8s ease-in-out infinite;
    }
    .hero-frame img{ width:100%; height:100%; object-fit:contain; display:block; }
    @keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(6px)}}

    /* ---- Ticker ---- */
    .ticker{
      width:100%; max-width:clamp(360px,46vw,640px); margin:12px 0 0; background:#fff;
      border-radius:16px; box-shadow:var(--shadow); overflow:hidden;
    }
    .ticker-track{
      display:inline-flex; gap:32px; align-items:center; padding:10px 12px; white-space:nowrap;
      width:max-content; animation:tickerMove 28s linear infinite; will-change:transform;
    }
    @keyframes tickerMove{ from{transform:translateX(0)} to{transform:translateX(-50%)} }
    @media (prefers-reduced-motion: reduce){ .ticker-track{ animation:none } }
    .ticker-bullet{ margin:0 10px; opacity:.45; font-weight:900; }

    /* --- Gallery + blur-up --- */
    .gallery-grid{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;align-items:stretch}
    .gallery-tile{flex:0 1 260px;display:flex;flex-direction:column;padding:0;text-align:center;overflow:hidden;cursor:zoom-in}
    .gallery-tile img{width:100%;height:200px;object-fit:cover;object-position:center;display:block;filter:blur(6px);transform:scale(1.02);transition:filter .35s ease, transform .35s ease}
    .gallery-tile img.img-loaded{filter:none;transform:none}
    .gallery-caption{padding:10px 12px;font-size:14px;line-height:1.35;color:var(--ink);text-align:center;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;min-height:40px}
    @media (max-width: 720px){.gallery-tile{flex-basis:200px}.gallery-tile img{height:160px}}

    .banner{background:linear-gradient(90deg,#10b981,#84cc16,#f59e0b);color:#fff;border-radius:var(--r);box-shadow:var(--shadow);padding:22px}
    .split{display:grid;grid-template-columns:1fr;gap:18px}
    footer{border-top:1px solid #eee;padding:24px 0;color:var(--muted);font-size:14px;margin-top:8px}
    .icon{width:36px;height:36px;border-radius:12px;display:grid;place-items:center;background:#ecfeff}
    @media(min-width:760px){.cards{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media(min-width:1024px){.cards{grid-template-columns:repeat(4,minmax(0,1fr))}}

    .khf-root{ min-height:100vh; background: linear-gradient(180deg,#FFF7E6,#FFF0D6,#F0FFE3); color: var(--ink); }

    /* ---- Family Application form ---- */
    .form-card{background:#fff;border-radius:var(--r);box-shadow:var(--shadow);padding:16px}
    .form-grid{display:grid;gap:12px}
    .form-grid.two{grid-template-columns:1fr}
    @media (min-width: 780px){ .form-grid.two{grid-template-columns:1fr 1fr} }
    label{font-weight:600;color:var(--ink);font-size:.95rem}
    input[type="text"],input[type="date"],input[type="email"],input[type="tel"],textarea{
      width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:12px;font:inherit
    }
    textarea{min-height:110px;resize:vertical}
    .fieldset{border:1px solid #eef2f7;border-radius:14px;padding:14px}
    .legend{font-weight:800;color:#334155;margin-bottom:6px}
    .helper{color:var(--muted);font-size:.85rem}
    .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:14px}

    /* === Nav dropdown === */
    .khf-nav{display:flex;gap:10px;align-items:center}
    .khf-nav details{position:relative}
    .khf-nav summary{list-style:none;cursor:pointer;padding:6px 10px;border-radius:10px;font-weight:700;color:var(--ink);user-select:none}
    .khf-nav summary::-webkit-details-marker{display:none}
    .khf-nav details[open] summary{background:#f3f4f6}
    .khf-nav .menu{
      position:absolute;inset-block-start:calc(100% + 8px);inset-inline-start:0;min-width:240px;background:#fff;
      border:1px solid #e5e7eb;border-radius:14px;box-shadow:var(--shadow);padding:8px;z-index:20
    }
    .khf-nav .menu a{display:block;padding:8px 10px;border-radius:10px;text-decoration:none;color:var(--ink);font-weight:600;white-space:nowrap}
    .khf-nav .menu a:hover{background:#f3f4f6;color:var(--brand)}
    .khf-nav .menu-label{font-size:12px;color:#6b7280;padding:6px 10px 4px;font-weight:800;text-transform:uppercase;letter-spacing:.02em}
    .khf-nav .menu-sep{height:1px;background:#f1f5f9;margin:6px 4px;border-radius:1px}
    @media (max-width:760px){ .khf-nav{flex-wrap:wrap} }

    /* === Extra responsiveness/speed tweaks === */
    .hero{ min-height:100svh; }
    @media (max-width:480px){
      .container{ padding:0 12px; }
      .hero{ padding:56px 4%; gap:24px; }
      .hero-text h1{ font-size:clamp(1.6rem, 6vw, 2.2rem); }
      .hero-frame{ width:clamp(280px, 86vw, 560px); }
      .hero-buttons .btn{ width:100%; justify-content:center; }
    }
    html, body { overflow-x:hidden; }
    img, iframe, video { max-width:100%; height:auto; }
    .card, td, th, p, .muted { overflow-wrap:anywhere; }
    .khf-nav{ row-gap:6px; }
    @media (max-width:760px){
      .khf-nav a, .khf-nav summary{ padding:6px 8px; border-radius:8px; }
    }
    .cards{ grid-template-columns:repeat(1,minmax(0,1fr)); }
    @media (min-width:640px){ .cards{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
    @media (min-width:1024px){ .cards{ grid-template-columns:repeat(4,minmax(0,1fr)); } }
    .lightbox img{ max-width:95vw; max-height:80vh; }

    /* ===== Camp Logo Badge styles ===== */
    .camp-logo-wrap{ position:absolute; left:0; right:0; top:10px; display:grid; justify-items:center; z-index:4; pointer-events:none; }
    .camp-logo-badge{
      --size:108px;
      display:grid; grid-template-rows:auto auto; justify-items:center; gap:8px;
      opacity:0; transform:translateY(8px) scale(.98);
      animation:badgeIn .6s ease forwards; animation-delay:10s;
    }
    @keyframes badgeIn{ to{ opacity:1; transform:none; } }
    .camp-logo{
      width:var(--size); height:var(--size); border-radius:999px; display:grid; place-items:center; background:#fff; box-shadow:var(--shadow);
      position:relative; overflow:hidden;
    }
    .camp-logo::after{ content:""; position:absolute; inset:-8px; border-radius:999px; border:3px solid rgba(16,185,129,.25); animation:pulse 2.2s ease-in-out infinite; }
    @keyframes pulse{ 0%,100%{ transform:scale(1); opacity:.7 } 50%{ transform:scale(1.06); opacity:1 } }
    .camp-logo img{ width:70%; height:70%; object-fit:contain; display:block; }
    .camp-tag{ position:absolute; bottom:-6px; right:-6px; background:linear-gradient(135deg,#10b981,#84cc16); color:#fff; font-weight:900; font-size:12px; padding:6px 10px; border-radius:999px; box-shadow:var(--shadow); transform:rotate(-2deg); animation:tagWiggle 4.5s ease-in-out infinite; }
    @keyframes tagWiggle{ 0%,100%{ transform:rotate(-2deg) translateY(0) } 50%{ transform:rotate(2deg) translateY(-2px) } }
    .camp-caption{ font-size:.95rem; color:var(--ink); text-align:center; }
    @media (prefers-reduced-motion:reduce){ .camp-logo::after, .camp-tag{ animation:none } }
  </style>

  <link rel="preload" as="image" href="Images/camp-poster.avif">
</head>

<body>

  <!-- Static LCP hero -->
  <section id="lcp-hero" style="min-height:60vh;display:grid;place-items:center;background:linear-gradient(to bottom,#fff8ef,#f6f8e7);padding:40px 5%">
    <picture>
      <source type="image/avif" srcset="Images/camp-poster.avif" />
      <source type="image/webp" srcset="Images/camp-poster.webp" />
      <img src="Images/camp-poster.png" alt="Kiboga Hill Farm Camp" width="1200" height="1200"
           loading="eager" decoding="async" fetchpriority="high"
           style="max-width:min(640px,90vw);height:auto;display:block" />
    </picture>
  </section>

  <!-- Remove poster + slow-load hint -->
  <script>
    (function(){
      function removeLCP(){ var el = document.getElementById('lcp-hero'); if (el) el.remove(); }
      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', removeLCP); else removeLCP();
      setTimeout(function(){
        var root = document.getElementById('root');
        if (root && !root.children.length) {
          removeLCP();
          var msg = document.createElement('div');
          msg.style.cssText='padding:12px;margin:16px auto;max-width:760px;background:#fffbe6;border:1px solid #ffe58f;border-radius:12px;font:14px/1.5 system-ui;color:#663c00';
          msg.textContent='The app is taking long to load. Check your internet connection (CDNs) and refresh.';
          document.body.insertBefore(msg, root);
        }
      }, 4000);
    })();
  </script>

  <div id="root"></div>

  <!-- React + ReactDOM + Babel + Supabase -->
  <script defer src="https://unpkg.com/react@18/umd/react.production.min.js"
          onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js'"></script>
  <script defer src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
          onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js'"></script>
  <script defer src="https://unpkg.com/@babel/standalone/babel.min.js"
          onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js'"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"
          onerror="this.onerror=null;this.src='https://unpkg.com/@supabase/supabase-js@2'"></script>

  <!-- App -->
  <script type="text/babel" data-presets="env,react">
    const { useEffect, useMemo, useState } = React;

    /* ---------- Supabase (defensive init) ---------- */
    const SUPABASE_URL  = "https://uieqtkdxnuqqvcpkgtiz.supabase.co";
    const SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpZXF0a2R4bnVxcXZjcGtndGl6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MDA4MTcsImV4cCI6MjA3NTE3NjgxN30.J5fkqIknkIgVX-As1yZfn1qbH2_vMfRPBhuvC2UxY3Y";

    function makeNoopSupa() {
      const offlineErr = { message: "Supabase is not available (CDN offline/blocked)." };
      return {
        from() { return { insert: async()=>({ error: offlineErr }), select: async()=>({ data:[], error: offlineErr }), order(){ return this; } }; },
        auth: {
          getSession: async()=>({ data:{ session:null } }),
          onAuthStateChange: ()=>({ data:{ subscription:{ unsubscribe(){} } } }),
          signInWithPassword: async()=>({ error: offlineErr }),
          signOut: async()=>({ error:null }),
        }
      };
    }
    let supa = makeNoopSupa();
    if (window.supabase?.createClient) {
      try { supa = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON); }
      catch(e){ console.warn("Supabase init failed; offline mode.", e); }
    }

    /* ---------------- Data ---------------- */
    const Camps = () => (
      <section className="page" id="camps">
        <div className="container">
          <h2>Camps & Farm Visits</h2>
          <p className="muted">Hands-on sessions for women, youth, people with special needs and community groups — with goat BBQ, mountain hiking and a campfire.</p>
          <div className="grid cards" style={{gridTemplateColumns:"repeat(1,minmax(0,1fr))"}}>
            <div className="card">
              <b>What to expect</b>
              <ul className="muted" style={{margin:"8px 0 0 16px"}}>
                <li>Half-day and full-day training modules</li>
                <li>Experience sharing around the campfire</li>
                <li>Guided walks through farm departments</li>
                <li>Housing, record-keeping, biosecurity & disease control</li>
                <li>Special meals during the visit</li>
                <li>Fun games and team activities</li>
                <li>Group rates for schools and SACCOs</li>
              </ul>
            </div>
            <div className="card">
              <b>Book a visit/ CAMP</b>
              <p className="muted">Call or WhatsApp <a href="https://wa.me/256763081880" target="_blank" rel="noopener noreferrer">+256 763 081 880</a>.</p>
              <a className="btn" href="https://wa.me/256763081880" target="_blank" rel="noopener noreferrer">WhatsApp to Book</a>
            </div>
          </div>
        </div>
      </section>
    );

    const PRODUCTS = [
      { slug:"goats",  icon:"🐐", title:"Goats",  desc:"Savanna, Galla, Boer & local Mubende lines for meat and resilience.", details:[
        "Breeding: structured cross-breeding for growth & hardiness",
        "Feeding: pasture-led; banana/coffee residues for circular nutrients",
        "Health: vaccination & deworming calendar; humane handling",
        "Sales: live weight pricing; farm-gate pick-up"
      ]},
      { slug:"cattle", icon:"🐄", title:"Cattle", desc:"Quality breeds managed under humane, pasture-led systems.", details:[
        "Breeds: Ankole, exotic crosses, and pure exotic bred from AI by highly trained technicians",
        "Grazing: rotational paddocks; water & shade planning",
        "Dairy & Beef: weaner calves, heifers, and steers",
        "Records: simple books for births, weights, treatments"
      ]},
      { slug:"bananas", icon:"🍌", title:"Bananas", desc:"Matooke garden supplied with livestock manure through nutrient recycling.", details:[
        "Spacing & mulching for moisture retention",
        "Manure use: composted goat bedding",
        "Pest/Disease: early detection for timely management",
        "Market: bunch grading & handling"
      ]},
      { slug:"coffee", icon:"☕", title:"Coffee", desc:"High quality farm-gate beans.", details:[
        "Organic Management:Use of composite manure; locally made pesticides",
        "Weed & canopy management",
        "Harvest: selective picking for quality",
        "Post-harvest: drying guidelines and storage"
      ]}
    ];

    const SERVICES = [
      { slug:"sales",   icon:"🏪", title:"Farm-Gate Sales and Purchases", text:"Goats, cows, chicken, coffee, and other agricultural produce.", details:[
        "Order by WhatsApp; 9 hours a day pickup window from 9am to 5pm",
        "Bulk discounts for bulk purchases",
        "Quality assurance and humane standards"
      ]},
      { slug:"climate", icon:"🌞", title:"Climate Services", text:"We share with fellow farmers actionable advisories for crop and Livestock production for soil moisture, water stress and disease risk management", details:[
        "Weekly tips from seasonal & short-term forecasts",
        "Onset/cessation signals; heat-stress alerts",
        "Timely weather updates sharing in simple language on our social media platforms"
      ]}
    ];

    /* ---------------- Maps helpers ---------------- */
    const MAP = {
      label: "Kiboga Hill Farm Uganda",
      address: "3Km from Kikuubo, Bukomero Town Council off Hoima Road, Kagogo A Village, Kyomya Sub county Kiboga District, Uganda",
      lat: 0.716167, lng: 32.0245,
    };
    const mapsSearchUrl = () => `https://www.google.com/maps/search/?api=1&query=${MAP.lat},${MAP.lng}`;
    const mapsDirectionsUrl = () => `https://www.google.com/maps/dir/?api=1&destination=${MAP.lat},${MAP.lng}`;
    const mapsEmbedSrc = (type='satellite') => {
      const t = type==='satellite' ? 'k' : (type==='hybrid' ? 'h' : 'm');
      return `https://maps.google.com/maps?q=${MAP.lat},${MAP.lng}&z=15&t=${t}&output=embed`;
    };

    /* ---------------- Tiny hash router ---------------- */
    function useHashRoute(){
      const [hash, setHash] = useState(() => window.location.hash || "#/");
      useEffect(() => {
        const onChange = () => setHash(window.location.hash || "#/");
        window.addEventListener("hashchange", onChange);
        return () => window.removeEventListener("hashchange", onChange);
      }, []);
      const parts = useMemo(() => hash.replace(/^#/, "").split("/").filter(Boolean), [hash]);
      return { parts };
    }

    const Link = ({ to, className = "", children, ...rest }) => (
      <a href={to} className={className} {...rest}>{children}</a>
    );

    const NotFound = ({ what = "Page" }) => (
      <section className="page" id="not-found">
        <div className="container">
          <h2>{what} Not Found</h2>
          <p className="muted">Sorry, the {what.toLowerCase()} you’re looking for doesn’t exist.</p>
          <Link className="btn out" to="#/">← Back Home</Link>
        </div>
      </section>
    );

    function CampLogoBadge(){
      return (
        <div className="camp-logo-wrap" aria-live="polite">
          <div className="camp-logo-badge" role="group" aria-label="Kiboga Hill Farm highlights">
            <div className="camp-logo">
              <picture>
                <source type="image/webp" srcSet="Images/khf-logo.webp" />
                <img src="Images/khf-logo.png" onError={(e)=>{ e.currentTarget.src="Images/khf-logo.PNG"; }}
                     alt="Kiboga Hill Farm logo" width="512" height="512" loading="lazy" decoding="async" />
              </picture>
              <span className="camp-tag" aria-label="November Camp">Nov 29–30</span>
            </div>
            <div className="camp-caption">What we have at Kiboga Hill Farm.</div>
          </div>
        </div>
      );
    }

    /* ---------------- Home ---------------- */
    const Home = () => (
      <section className="hero">
        <div className="hero-text">
          <h1>Quality.<br/>Resilient.<br/><span>Ugandan</span> Farming.</h1>
          <p>We rear, buy and sell quality and best breeds of goats, sheep, cattle, and chickens.
            We also grow, buy and sell coffee, bananas, maize, and trees — we are powered by farming
            passion and driven by science. We also utilise weather and climate forecasts for better
            yields and livestock production.</p>
          <div className="hero-buttons">
            <a href="#/about" className="btn" style={{ background:"var(--brand)", color:"white" }}>Explore Our Farm</a>
            <a href="#/family" className="btn" style={{ background:"white", color:"var(--ink)", boxShadow:"var(--shadow)" }}>Join Our Family — Never to Regret</a>
          </div>
        </div>

        <div className="hero-image">
          <div className="hero-frame">
            <picture>
              <source type="image/avif" srcSet="Images/camp-poster.avif" />
              <source type="image/webp" srcSet="Images/camp-poster.webp" />
              <img src="Images/camp-poster.png" alt="Kiboga Hill Farm Camp" width="700" height="700"
                   loading="eager" decoding="async" style={{ maxWidth:"100%", height:"100%", display:"block" }} />
            </picture>
          </div>

          <div className="ticker" aria-label="Upcoming camp details">
            <div className="ticker-track">
              <span className="ticker-bullet" aria-hidden="true">•</span> 29–30 Nov 2025
              <span className="ticker-bullet" aria-hidden="true">•</span> Goat BBQ / Goat Choma
              <span className="ticker-bullet" aria-hidden="true">•</span> Practical Livestock & Crop Training
              <span className="ticker-bullet" aria-hidden="true">•</span> Exciting Campfire
              <span className="ticker-bullet" aria-hidden="true">•</span> Social Networking
              <span className="ticker-bullet" aria-hidden="true">•</span> 29–30 Nov 2025
              <span className="ticker-bullet" aria-hidden="true">•</span> Goat BBQ / Goat Choma
              <span className="ticker-bullet" aria-hidden="true">•</span> Practical Livestock & Crop Training
              <span className="ticker-bullet" aria-hidden="true">•</span> Exciting Campfire
              <span className="ticker-bullet" aria-hidden="true">•</span> Networking
            </div>
          </div>

          <CampLogoBadge />
        </div>
      </section>
    );

    /* ---------------- Other Pages ---------------- */
    const About = () => (
      <section className="page" id="about">
        <div className="container">
          <h2>About Us</h2>
          <p className="muted">Kiboga Hill Farm Uganda blends modern agri-business with passion and experience. Led by a professional meteorologist, we integrate seasonal forecasts and on-farm observations to reduce weather related risks, cut losses, and improve productivity—from breeding choices to yield estimates.</p>
        </div>
      </section>
    );

    const ProductsIndex = () => (
      <section className="page" id="products">
        <div className="container">
          <h2>Livestock & Crops</h2>
          <div className="grid cards">
            {PRODUCTS.map((item) => (
              <div key={item.slug} className="card">
                <div style={{display:"flex", gap:10, alignItems:"center"}}>
                  <div className="icon" aria-hidden>{item.icon}</div>
                  <b>{item.title}</b>
                </div>
                <p className="muted" style={{marginTop:8}}>{item.desc}</p>
                <div style={{marginTop:8}}>
                  <Link className="btn out" to={`#/products/${item.slug}`}>View details</Link>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>
    );

    const ProductDetail = ({ slug }) => {
      const p = PRODUCTS.find(x => x.slug === slug);
      if (!p) return <NotFound what="Product"/>;
      return (
        <section className="page" id={`product-${slug}`}>
          <div className="container">
            <div style={{display:"flex", justifyContent:"space-between", alignItems:"center", gap:12, flexWrap:"wrap"}}>
              <h2 style={{display:"flex", alignItems:"center", gap:10}}><span className="icon" aria-hidden>{p.icon}</span>{p.title}</h2>
              <Link className="btn out" to="#/products">← Back to Livestock & Crops</Link>
            </div>
            <p className="muted" style={{marginTop:8}}>{p.desc}</p>
            <ul className="muted" style={{margin:"12px 0 0 18px"}}>
              {p.details.map(d => <li key={d}>{d}</li>)}
            </ul>
          </div>
        </section>
      );
    };

    const ServicesIndex = () => (
      <section className="page" id="services">
        <div className="container">
          <h2>What We Offer</h2>
        <div className="grid cards" style={{gridTemplateColumns:"repeat(1,minmax(0,1fr))"}}>
            {SERVICES.map(s => (
              <div key={s.slug} className="card">
                <div style={{display:"flex", gap:10, alignItems:"center"}}>
                  <div className="icon" aria-hidden>{s.icon}</div>
                  <b>{s.title}</b>
                </div>
                <p className="muted" style={{marginTop:8}}>{s.text}</p>
                <div style={{marginTop:8}}>
                  <Link className="btn out" to={`#/services/${s.slug}`}>View details</Link>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>
    );

    const ServiceDetail = ({ slug }) => {
      const s = SERVICES.find(x => (x.slug || "").toLowerCase() === slug);
      if (!s) return <NotFound what="Service"/>;
      return (
        <section className="page" id={`service-${slug}`}>
          <div className="container">
            <div style={{display:"flex", justifyContent:"space-between", alignItems:"center", gap:12, flexWrap:"wrap"}}>
              <h2 style={{display:"flex", alignItems:"center", gap:10}}><span className="icon" aria-hidden>{s.icon}</span>{s.title}</h2>
              <Link className="btn out" to="#/services">← Back to Services</Link>
            </div>
            <p className="muted" style={{marginTop:8}}>{s.text}</p>
            <ul className="muted" style={{margin:"12px 0 0 18px"}}>
              {s.details.map(d => <li key={d}>{d}</li>)}
            </ul>
          </div>
        </section>
      );
    };

    /* ---------------- Contact ---------------- */
    const Contact = () => {
      const [mapType, setMapType] = React.useState("satellite");
      return (
        <section className="page" id="contact">
          <div className="container">
            <h2>Contact</h2>

            <div className="grid cards" style={{ gridTemplateColumns:"repeat(1,minmax(0,1fr))" }}>
              <div className="card">
                <b>Phone & WhatsApp</b>
                <div className="muted">+256 (0) 763 081 880</div>
              </div>

              <div className="card">
                <b>Email</b>
                <p><a href="mailto:info@kibogahillfarmuganda.co.ug">info@kibogahillfarmuganda.co.ug</a></p>
                <a className="btn" href={"mailto:info@kibogahillfarmuganda.co.ug?subject=Hello%20Kiboga%20Hill%20Farm&body=Hi%20KHF%20Team,%0A%0AMy%20name%20is%20____.%20I%27m%20interested%20in%20____.%0A%0ARegards,%0A____"}>Talk to Us</a>
              </div>

              <div className="card">
                <b>Location</b>
                <div className="muted">{MAP.address}</div>
                <div style={{display:"flex",gap:10,flexWrap:"wrap",marginTop:10}}>
                  <a className="btn" href={mapsSearchUrl()} target="_blank" rel="noopener noreferrer">Open in Google Maps</a>
                  <a className="btn out" href={mapsDirectionsUrl()} target="_blank" rel="noopener noreferrer">Get Directions</a>
                </div>
              </div>

              <div className="card">
                <b>Social</b>
                <div style={{ display:"flex", gap:10, flexWrap:"wrap", marginTop:10 }}>
                  <a className="btn" href="https://wa.me/256703663616" target="_blank" rel="noopener noreferrer">WhatsApp</a>
                  <a className="btn out" href="https://www.tiktok.com/@kiboga_hill_farm.ug" target="_blank" rel="noopener noreferrer">TikTok</a>
                  <a className="btn out" href="https://www.instagram.com/kibogahillfarmuganda/" target="_blank" rel="noopener noreferrer">Instagram</a>
                  <a className="btn out" href="https://www.youtube.com/@Kibogahillfarm.ug1" target="_blank" rel="noopener noreferrer">YouTube</a>
                  <a className="btn out" href="https://web.facebook.com/profile.php?id=61581757133392" target="_blank" rel="noopener noreferrer">Facebook</a>
                </div>
              </div>
            </div>

            <div className="card" style={{ marginTop:16, padding:0, overflow:"hidden" }}>
              <!-- FIXED: justifyContent (camelCase) -->
              <div style={{ display:"flex", gap:8, justifyContent:"flex-end", padding:"10px 12px" }}>
                <button className={mapType==="roadmap" ? "btn" : "btn out"} onClick={()=>setMapType("roadmap")}>Map</button>
                <button className={mapType==="satellite" ? "btn" : "btn out"} onClick={()=>setMapType("satellite")}>Satellite</button>
                <button className={mapType==="hybrid" ? "btn" : "btn out"} onClick={()=>setMapType("hybrid")}>Hybrid</button>
              </div>

              <div style={{ position:"relative", width:"100%", paddingBottom:"56%" }}>
                <iframe title="Kiboga Hill Farm – Map"
                        src={mapsEmbedSrc(mapType)}
                        style={{ position:"absolute", inset:0, width:"100%", height:"100%", border:0 }}
                        loading="lazy" referrerPolicy="no-referrer-when-downgrade"></iframe>
              </div>
              <div style={{ padding:12, fontSize:12, color:"#556070" }}>
                Pin set to exact GPS coordinates: {MAP.lat}, {MAP.lng}
              </div>
            </div>
          </div>
        </section>
      );
    };

    /* ---------------- Simple Gallery (safe sources) ---------------- */
    const Gallery = () => {
      const items = [
        { srcs:["Images/camp-poster.avif","Images/camp-poster.webp","Images/camp-poster.png"], cap:"Kiboga Hill Farm Camp" },
        { srcs:["Images/khf-logo.webp","Images/khf-logo.png","Images/khf-logo.PNG"], cap:"KHFU Logo" },
      ];
      const SmartImg = ({ srcs, alt }) => {
        const [idx, setIdx] = React.useState(0);
        const [hidden, setHidden] = React.useState(false);
        if (hidden) return null;
        const onError = () => { if (idx < srcs.length-1) setIdx(idx+1); else setHidden(true); };
        return <img src={srcs[idx]} alt={alt} loading="lazy" decoding="async" onError={onError} onLoad={(e)=>e.currentTarget.classList.add("img-loaded")} />;
      };
      return (
        <section className="page" id="gallery">
          <div className="container">
            <h2>Gallery</h2>
            <p className="muted">Photos from Kiboga Hill Farm Uganda.</p>
            <div className="gallery-grid">
              {items.map((it,i)=>(
                <figure key={i} className="gallery-tile">
                  <SmartImg srcs={it.srcs} alt={it.cap} />
                  <figcaption className="gallery-caption">{it.cap}</figcaption>
                </figure>
              ))}
            </div>
          </div>
        </section>
      );
    };

    /* ---------------- Family Application ---------------- */
    const Family = () => (
      <section className="page" id="family">
        <div className="container">
          <div className="banner">
            <h2 style={{margin:0}}>Family Project</h2>
            <p style={{margin:".3rem 0 0"}}><b>Goal:</b> Motivate our Members to start and love farming through learning from our group enterprises (goats, cattle, chickens, etc.) this helps in market linkages and collective search.</p>
          </div>
          <div className="grid cards" style={{ marginTop:16, gridTemplateColumns:"repeat(1,minmax(0,1fr))" }}>
            {[
              { title:"Jump Start",           pts:["Dream Big","Motivate One Another","Grow Passion","Learn"] },
              { title:"Social Network",       pts:["Meet and Make many Friends","Keep True Friends","Teamwork"] },
              { title:"Project Management",   pts:["Choice of Enterprise","Project Direction","Collective Decisions","3-month Camps"] },
              { title:"Collective Marketing", pts:["Collective Advertising","Quality Standards & Assurance"] },
            ].map((b)=>(
              <div key={b.title} className="card">
                <b>{b.title}</b>
                <ul className="muted" style={{ margin:"8px 0 0 16px" }}>
                  {b.pts.map((p,i)=><li key={`${b.title}-${i}`}>{p}</li>)}
                </ul>
              </div>
            ))}
          </div>
          <div style={{marginTop:12}}>
            <a className="btn" href="#/family/join" aria-label="Apply to Family Program">Apply now →</a>
          </div>
        </div>
      </section>
    );

    const FamilyForm = () => {
      const todayStr = new Date().toISOString().slice(0,10);
      const [f, setF] = React.useState({
        first:'', middle:'', last:'', dob:'', email:'', phone:'', nin:'', addr:'', role:'', inst:'', instAddr:'',
        why:'', skills:'', k1first:'', k1middle:'', k1last:'', k1addr:'', k1tel:'', k2first:'', k2middle:'', k2last:'', k2addr:'', k2tel:'',
        agree1:false, agree2:false, agree3:false, agree4:false, agree5:false, sign:'', sdate: todayStr
      });
      const [submitting, setSubmitting] = React.useState(false);
      const [doneMsg, setDoneMsg] = React.useState("");
      const [errMsg,  setErrMsg ] = React.useState("");
      const change = (e) => { const {name,type,checked,value} = e.target; setF(s=>({...s,[name]:type==='checkbox'?checked:value})); };
      const asText = () => `
KIBOGA HILL FARM UGANDA – FAMILY PROJECT
Membership Application

PERSONAL DATA
Name: ${f.first} ${f.middle} ${f.last}
DOB: ${f.dob}
Email: ${f.email}
Phone: ${f.phone}
NIN/Passport: ${f.nin}
Residence: ${f.addr}
Designation: ${f.role}
Institution: ${f.inst}
Institution Address: ${f.instAddr}

Reason for joining:
${f.why}

Skills / Interests to contribute:
${f.skills}

NEXT OF KIN – First Choice
${f.k1first} ${f.k1middle} ${f.k1last}
Residence: ${f.k1addr} | Tel: ${f.k1tel}

NEXT OF KIN – Second Choice
${f.k2first} ${f.k2middle} ${f.k2last}
Residence: ${f.k2addr} | Tel: ${f.k2tel}

DECLARATION (checked = agreed)
1) Info true/accurate: ${f.agree1 ? '✓' : '—'}
2) Abide by meeting resolutions: ${f.agree2 ? '✓' : '—'}
3) Right to withdraw; 2-month settlement: ${f.agree3 ? '✓' : '—'}
4) Misconduct can lead to removal; 2-month settlement: ${f.agree4 ? '✓' : '—'}
5) Late contribution penalties: ${f.agree5 ? '✓' : '—'}

Signature (typed): ${f.sign}
Date: ${f.sdate}`.trim();

      const sendEmail = () => {
        const body = encodeURIComponent(asText());
        const subject = encodeURIComponent("Family Membership Application");
        window.location.href = `mailto:info@kibogahillfarmuganda.co.ug?subject=${subject}&body=${body}`;
      };
      const downloadTxt = () => {
        const blob = new Blob([asText()], {type:'text/plain'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a'); a.href = url; a.download = `KHFU-application-${f.first||'member'}.txt`; a.click(); URL.revokeObjectURL(url);
      };
      const submitToDB = async () => {
        setSubmitting(true); setDoneMsg(""); setErrMsg("");
        const payload = {
          first:f.first, middle:f.middle, last:f.last, dob:f.dob||null, email:f.email, phone:f.phone, nin:f.nin, addr:f.addr,
          role:f.role, inst:f.inst, instAddr:f.instAddr, why:f.why, skills:f.skills,
          k1first:f.k1first, k1middle:f.k1middle, k1last:f.k1last, k1addr:f.k1addr, k1tel:f.k1tel,
          k2first:f.k2first, k2middle:f.k2middle, k2last:f.k2last, k2addr:f.k2addr, k2tel:f.k2tel,
          sign:f.sign, sdate:f.sdate||null
        };
        const { error } = await supa.from("family_applications").insert(payload);
        if (error) setErrMsg(error.message || "Could not submit. Please try again.");
        else setDoneMsg("Application submitted privately. Thank you!");
        setSubmitting(false);
      };
      const allAgreed = f.agree1 && f.agree2 && f.agree3 && f.agree4 && f.agree5 && f.sign;

      return (
        <section className="page" id="family-join">
          <div className="container">
            <h2>Join Kiboga Hill Farm Family Project</h2>
            <p className="muted">Fill out the application below. You can send it by email or download a copy.</p>
            <div className="form-card">
              <div className="fieldset">
                <div className="legend">Personal Data / Biodata</div>
                <div className="form-grid two">
                  <div><label>First Name</label><input name="first" value={f.first} onChange={change} required/></div>
                  <div><label>Middle Name</label><input name="middle" value={f.middle} onChange={change}/></div>
                  <div><label>Last Name</label><input name="last" value={f.last} onChange={change} required/></div>
                  <div><label>Date of Birth</label><input type="date" name="dob" value={f.dob} onChange={change} required/></div>
                  <div><label>Email</label><input type="email" name="email" value={f.email} onChange={change} required/></div>
                  <div><label>Telephone</label><input type="tel" name="phone" value={f.phone} onChange={change} required/></div>
                  <div><label>NIN / Passport</label><input name="nin" value={f.nin} onChange={change}/></div>
                  <div><label>Current Residential Address</label><input name="addr" value={f.addr} onChange={change}/></div>
                  <div><label>Designation</label><input name="role" value={f.role} onChange={change}/></div>
                  <div><label>Institution</label><input name="inst" value={f.inst} onChange={change}/></div>
                  <div className="two" style={{gridColumn:'1 / -1'}}><label>Institution Address</label><input name="instAddr" value={f.instAddr} onChange={change}/></div>
                </div>
              </div>

              <div className="fieldset">
                <div className="legend">Reason for joining</div>
                <textarea name="why" value={f.why} onChange={change} placeholder="Why are you interested in joining this family project?" />
              </div>

              <div className="fieldset">
                <div className="legend">Special skills / interests to contribute</div>
                <textarea name="skills" value={f.skills} onChange={change} placeholder="List any skills or interests you would like to contribute" />
              </div>

              <div className="fieldset">
                <div className="legend">Next of Kin – First Choice</div>
                <div className="form-grid two">
                  <div><label>First Name</label><input name="k1first"  value={f.k1first}  onChange={change} /></div>
                  <div><label>Middle Name</label><input name="k1middle" value={f.k1middle} onChange={change} /></div>
                  <div><label>Last Name</label><input name="k1last"   value={f.k1last}   onChange={change} /></div>
                  <div><label>Permanent Residence</label><input name="k1addr" value={f.k1addr} onChange={change} /></div>
                  <div><label>Telephone</label><input name="k1tel"    value={f.k1tel}    onChange={change} /></div>
                </div>
              </div>

              <div className="fieldset">
                <div className="legend">Next of Kin – Second Choice</div>
                <div className="form-grid two">
                  <div><label>First Name</label><input name="k2first"  value={f.k2first}  onChange={change} /></div>
                  <div><label>Middle Name</label><input name="k2middle" value={f.k2middle} onChange={change} /></div>
                  <div><label>Last Name</label><input name="k2last"   value={f.k2last}   onChange={change} /></div>
                  <div><label>Permanent Residence</label><input name="k2addr" value={f.k2addr} onChange={change} /></div>
                  <div><label>Telephone</label><input name="k2tel"    value={f.k2tel}    onChange={change} /></div>
                </div>
              </div>

              <div className="fieldset">
                <div className="legend">Declaration</div>
                <div className="form-grid">
                  <label><input type="checkbox" name="agree1" checked={f.agree1} onChange={change}/> The information provided is true and accurate.</label>
                  <label><input type="checkbox" name="agree2" checked={f.agree2} onChange={change}/> I will abide by family meeting resolutions.</label>
                  <label><input type="checkbox" name="agree3" checked={f.agree3} onChange={change}/> I may withdraw; contributions/benefits payable after 2 months.</label>
                  <label><input type="checkbox" name="agree4" checked={f.agree4} onChange={change}/> Misconduct can lead to removal; 2-month settlement.</label>
                  <label><input type="checkbox" name="agree5" checked={f.agree5} onChange={change}/> Late contributions may attract penalties.</label>
                </div>

                <div className="form-grid two" style={{marginTop:8}}>
                  <div><label>Signature (type your full name)</label><input name="sign" value={f.sign} onChange={change} required/></div>
                  <div><label>Date</label><input type="date" name="sdate" value={f.sdate} onChange={change} required/></div>
                </div>

                <div className="helper">Admin approval is done later by the Chairperson/Director.</div>
              </div>

              {doneMsg && <div className="card" style={{background:"#ecfdf5", color:"#065f46"}}>{doneMsg}</div>}
              {errMsg  && <div className="card" style={{background:"#fef2f2", color:"#991b1b"}}>{errMsg}</div>}

              <div className="actions">
                <button type="button" className="btn" onClick={submitToDB} disabled={!allAgreed || submitting}>
                  {submitting ? "Submitting…" : "Submit (private)"}
                </button>
                <button type="button" className="btn out" onClick={sendEmail} disabled={!allAgreed}>Send by Email</button>
                <button type="button" className="btn out" onClick={downloadTxt}>Download Application (.txt)</button>
              </div>
            </div>
          </div>
        </section>
      );
    };

    /* ---------------- Admin ---------------- */
    const Admin = () => {
      const [session, setSession] = useState(null);
      const [rows, setRows] = useState([]);
      const [loading, setLoading] = useState(false);
      const [err, setErr] = useState("");

      useEffect(() => {
        supa.auth.getSession().then(({ data }) => setSession(data.session || null));
        const { data: sub } = supa.auth.onAuthStateChange((_event, sess) => setSession(sess));
        return () => sub?.subscription?.unsubscribe();
      }, []);

      useEffect(() => {
        if (!session) return;
        setLoading(true); setErr("");
        supa.from("family_applications").select("*").order("created_at", { ascending:false })
          .then(({ data, error }) => { if (error) setErr(error.message); else setRows(data || []); })
          .finally(() => setLoading(false));
      }, [session]);

      const onSignIn = async (e) => {
        e.preventDefault(); setErr("");
        const email = e.target.email.value; const password = e.target.password.value;
        const { error } = await supa.auth.signInWithPassword({ email, password });
        if (error) setErr(error.message);
      };
      const onSignOut = async () => { await supa.auth.signOut(); setRows([]); };

      if (!session) {
        return (
          <section className="page" id="admin">
            <div className="container">
              <h2>Admin — Members List</h2>
              <p className="muted">Sign in to view applications.</p>
              {err && <div className="card" style={{background:"#fef2f2", color:"#991b1b"}}>{err}</div>}
              <form className="card" onSubmit={onSignIn} style={{maxWidth:420}}>
                <div><label>Email</label><input name="email" type="email" required /></div>
                <div style={{marginTop:8}}><label>Password</label><input name="password" type="password" required /></div>
                <div style={{marginTop:12}}><button className="btn" type="submit">Sign in</button></div>
              </form>
            </div>
          </section>
        );
      }

      return (
        <section className="page" id="admin">
          <div className="container">
            <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"}}>
              <h2>Members (Private)</h2>
              <button className="btn out" onClick={onSignOut}>Sign out</button>
            </div>

            {err && <div className="card" style={{background:"#fef2f2", color:"#991b1b"}}>{err}</div>}
            {loading ? <div className="card">Loading…</div> : (
              <div className="card" style={{overflowX:"auto"}}>
                {rows.length === 0 ? (
                  <div className="muted">No applications yet.</div>
                ) : (
                  <table style={{width:"100%", borderCollapse:"collapse"}}>
                    <thead>
                      <tr>
                        <th style={{textAlign:"left", padding:"8px"}}>Date</th>
                        <th style={{textAlign:"left", padding:"8px"}}>Name</th>
                        <th style={{textAlign:"left", padding:"8px"}}>Phone</th>
                        <th style={{textAlign:"left", padding:"8px"}}>Email</th>
                        <th style={{textAlign:"left", padding:"8px"}}>Why Join</th>
                      </tr>
                    </thead>
                    <tbody>
                      {rows.map(r => (
                        <tr key={r.id} style={{borderTop:"1px solid #eee"}}>
                          <td style={{padding:"8px"}}>{new Date(r.created_at).toLocaleString()}</td>
                          <td style={{padding:"8px"}}>{[r.first, r.middle, r.last].filter(Boolean).join(" ")}</td>
                          <td style={{padding:"8px"}}>{r.phone}</td>
                          <td style={{padding:"8px"}}>{r.email}</td>
                          <td style={{padding:"8px", maxWidth:360, overflow:"hidden", textOverflow:"ellipsis", whiteSpace:"nowrap"}}>{r.why}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                )}
              </div>
            )}
          </div>
        </section>
      );
    };

    /* ---------------- App ---------------- */
    function useHashRoute(){ const [hash,setHash]=useState(()=>window.location.hash||"#/"); useEffect(()=>{ const onChange=()=>setHash(window.location.hash||"#/"); window.addEventListener("hashchange",onChange); return()=>window.removeEventListener("hashchange",onChange);},[]); const parts=useMemo(()=>hash.replace(/^#/,"").split("/").filter(Boolean),[hash]); return {parts}; }

    function App(){
      const { parts } = useHashRoute();
      const route = (parts[0] || "").toLowerCase();
      const sub   = (parts[1] || "").toLowerCase();

      useEffect(() => { if (route === "services" && sub === "camps") { window.location.hash = "#/camps"; } }, [route, sub]);

      useEffect(() => {
        const fails = [];
        const assert = (name, cond) => { if (cond) console.log("✅", name); else { console.error("❌", name); fails.push(name); } };
        assert("Nav exists", !!document.querySelector("nav.khf-nav"));
        assert("Router working (page rendered)", !!document.querySelector("section.page, section.hero"));
        if (fails.length === 0) console.log("🎉 All smoke tests passed."); else console.warn("ℹ️ Smoke tests failed:", fails);
      }, [route, sub]);

      useEffect(() => {
        const nav = document.querySelector("nav.khf-nav");
        if (!nav) return;
        const closeOnClick = (e) => { const d = e.target.closest("details"); if (d) d.open = false; };
        const links = nav.querySelectorAll(".menu a");
        links.forEach(a => a.addEventListener("click", closeOnClick));
        return () => links.forEach(a => a.removeEventListener("click", closeOnClick));
      }, [route, sub]);

      return (
        <div className="khf-root">
          <header className="khf-header">
            <div className="container row">
              <Link to="#/" className="brand"><span className="logo">KH</span> Kiboga Hill Farm Uganda</Link>
              <nav className="khf-nav" aria-label="Primary">
                <Link to="#/about">About</Link>
                <Link to="#/camps">Camps & Farm Visits</Link>
                <details>
                  <summary>Other Services ▾</summary>
                  <div className="menu" role="menu">
                    <div className="menu-label">Livestock & Crops</div>
                    <Link to="#/products" role="menuitem">All Livestock & Crops</Link>
                    <div className="menu-sep"></div>
                    <div className="menu-label">Our Services</div>
                    <Link to="#/services/sales" role="menuitem">Farm-Gate Sales</Link>
                    <Link to="#/services/climate" role="menuitem">Climate Services</Link>
                    <div className="menu-sep"></div>
                    <div className="menu-label">Advisory</div>
                    <Link to="#/advisory" role="menuitem">Weather-Smart Advisory</Link>
                  </div>
                </details>
                <Link to="#/family">Family</Link>
                <Link to="#/gallery">Gallery</Link>
                <Link to="#/contact">Contact</Link>
              </nav>
            </div>
          </header>

          {(!route || route === "") && <Home/>}
          {route === "about" && <About/>}
          {route === "camps" && <Camps/>}
          {route === "products" && !sub && <ProductsIndex/>}
          {route === "products" && sub && <ProductDetail slug={sub}/>}
          {route === "services" && !sub && <ServicesIndex/>}
          {route === "services" && sub && <ServiceDetail slug={sub}/>}
          {route === "advisory" && <Advisory/>}
          {route === "gallery" && <Gallery/>}
          {route === "contact" && <Contact/>}
          {route === "admin" && <Admin/>}
          {route === "family" && (sub === "join" ? <FamilyForm/> : <Family/>)}
          {(!["","about","products","services","family","advisory","gallery","contact","camps","admin"].includes(route)) && <NotFound/>}

          <footer>
            <div className="container" style={{textAlign:"center"}}>
              © {new Date().getFullYear()} Kiboga Hill Farm Uganda. All rights reserved.
            </div>
          </footer>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>

  <noscript>
    <div style="max-width:760px;margin:24px auto;padding:16px;border:1px solid #e5e7eb;border-radius:12px;font-family:system-ui">
      JavaScript is required to view this site. Please enable it and refresh.
    </div>
  </noscript>
</body>
</html>

